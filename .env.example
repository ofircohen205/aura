# Aura Environment Configuration Example
# Copy this file to .env.local for local development
# NEVER commit actual .env files with real credentials to version control

# ============================================================================
# Environment
# ============================================================================
# Options: local, staging, production
ENVIRONMENT=local

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL connection URI
# Format: postgresql+psycopg://username:password@host:port/database_name
POSTGRES_DB_URI=postgresql+psycopg://your-db-user:your-db-password@localhost:5432/your-db-name

# PostgreSQL connection pool settings
POSTGRES_POOL_MAX_SIZE=20
POSTGRES_POOL_MIN_SIZE=5

# PostgreSQL container settings (for Docker Compose)
POSTGRES_USER=your-db-user
POSTGRES_PASSWORD=your-db-password
POSTGRES_DB=your-db-name

# ============================================================================
# CORS Configuration
# ============================================================================
# Allowed CORS origins (comma-separated or JSON array)
# For local dev, you can use ["*"]
# For production, specify exact origins: ["https://yourdomain.com", "https://app.yourdomain.com"]
CORS_ALLOW_ORIGINS=["*"]

# Allow credentials in CORS requests
CORS_ALLOW_CREDENTIALS=true

# Allowed HTTP methods (comma-separated or JSON array)
CORS_ALLOW_METHODS=["*"]

# Allowed headers (comma-separated or JSON array)
CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# API Configuration
# ============================================================================
API_TITLE=Aura Backend
API_VERSION=0.1.0

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json (for production) or text (for local development)
LOG_FORMAT=text

# ============================================================================
# Security Configuration
# ============================================================================
# Secret key for JWT token signing (generate a secure random string)
# Use: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-generate-with-secrets-token-hex-32

# JWT secret key (can be same as SECRET_KEY or different)
JWT_SECRET_KEY=your-jwt-secret-key-here-generate-with-secrets-token-hex-32

# ============================================================================
# API Keys & External Services
# ============================================================================
# Aura API key for authentication
AURA_API_KEY=your-aura-api-key-here

# OpenAI API key for LangChain/LangGraph workflows
OPENAI_API_KEY=your-openai-api-key-here

# ============================================================================
# Workflow Configuration
# ============================================================================
# Struggle detection thresholds
# Edit frequency threshold (edits per minute)
STRUGGLE_THRESHOLD_EDIT_FREQUENCY=10.0

# Error count threshold (number of errors before triggering)
STRUGGLE_THRESHOLD_ERROR_COUNT=2

# ============================================================================
# LLM/AI Configuration
# ============================================================================
# LLM provider: openai, anthropic, ollama
LLM_PROVIDER=openai

# OpenAI model configuration
OPENAI_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Anthropic API key (if using Anthropic)
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Ollama configuration (if using local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ============================================================================
# Vector Store Configuration
# ============================================================================
# Vector database type: chromadb (local/dev) or qdrant (production)
VECTOR_STORE_TYPE=chromadb

# ChromaDB configuration
CHROMADB_PATH=./chroma_db

# Qdrant configuration (if using Qdrant)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key-here

# ============================================================================
# GitHub App Configuration (for Probot App)
# ============================================================================
# GitHub App ID
GITHUB_APP_ID=your-github-app-id

# GitHub App Private Key (PEM format)
GITHUB_APP_PEM=your-github-app-private-key-pem-content

# GitHub App Webhook Secret
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# ============================================================================
# Development/Testing
# ============================================================================
# Enable debug mode (for development)
DEBUG=false

# Test database URI (for running tests)
TEST_POSTGRES_DB_URI=postgresql+psycopg://test-user:test-password@localhost:5432/test-db-name
